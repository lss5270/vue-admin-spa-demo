webpackJsonp([7],{257:function(e,t,l){function r(e){l(704)}var a=l(6)(l(430),l(731),r,"data-v-6f80d914",null);e.exports=a.exports},430:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(99),a=l.n(r),o=l(24),s=(l.n(o),l(19)),n=l(98);t.default={data:function(){return{ruleForm:{studentName:"",sex:"man",minzu:"",jiguan:"",mianmao:"",xueyuan:"",ruxiaodate:"",birthDate:"",address:"",quanrizhi:!0,ins:[],beizhu:""},rules:{studentName:[{required:!0,message:"请输入学生名称",trigger:"blur"},{min:2,max:8,message:"长度在 2 到 8 个字符",trigger:"blur"}]}}},mounted:function(){this.getFormData()},methods:{getFormData:function(){var e=this,t=this.$route.query;console.log("获取到url参数：",t),s.a.get(n.a.queryStudentsItem,{params:{id:t.id}},function(t){if(console.log("-------根据id获取表单信息：",a()(t)),0==t.body.resultCode){var t=t.body.data;console.log("=====",t),e.ruleForm=t}else l.i(o.Message)({showClose:!0,message:t.body.resultMsg,type:"error"})},function(e){},!0)},submitForm:function(e){var t=this,r=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;console.log("提交入参：",t.ruleForm),s.a.post("http://localhost:3000/api/modifyStudents",t.ruleForm,null,function(e){l.i(o.Message)({showClose:!0,message:"提交成功，正在跳转页面……",type:"success"}),setTimeout(function(){r.$router.push("/studentsManage/studentList")},2e3)},function(e){alert("插入数据失败，接口返回的数据为：",e)})})},resetForm:function(e){this.$refs[e].resetFields()}}}},445:function(e,t,l){t=e.exports=l(237)(!1),t.push([e.i,"[v-cloak][data-v-6f80d914]{display:none}.component-item[data-v-6f80d914]{margin-top:100px}.code-part[data-v-6f80d914]{margin-top:20px}",""])},704:function(e,t,l){var r=l(445);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);l(238)("6c55bce8",r,!0)},731:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{},[l("h2",{staticStyle:{color:"red"}},[e._v("\r\n        注意：此页面使用了本地api接口，若想正常运行，请下载另外一个node项目（https://github.com/lss5270/vue-admin-spa-api），并且在本地启动该node项目。\r\n    ")]),e._v(" "),l("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[l("el-form-item",{attrs:{label:"学生姓名",prop:"studentName"}},[l("el-col",{attrs:{span:11}},[l("el-input",{model:{value:e.ruleForm.studentName,callback:function(t){e.ruleForm.studentName=t},expression:"ruleForm.studentName"}})],1)],1),e._v(" "),l("el-form-item",{attrs:{label:"性别",prop:"sex"}},[l("el-radio-group",{model:{value:e.ruleForm.sex,callback:function(t){e.ruleForm.sex=t},expression:"ruleForm.sex"}},[l("el-radio",{attrs:{label:"man"}},[e._v("男")]),e._v(" "),l("el-radio",{attrs:{label:"woman"}},[e._v("女")])],1)],1),e._v(" "),l("el-form-item",{attrs:{label:"民族",prop:"minzu"}},[l("el-col",{attrs:{span:11}},[l("el-select",{attrs:{placeholder:"民族"},model:{value:e.ruleForm.minzu,callback:function(t){e.ruleForm.minzu=t},expression:"ruleForm.minzu"}},[l("el-option",{attrs:{label:"汉族 ",value:"10010"}}),e._v(" "),l("el-option",{attrs:{label:"壮族 ",value:"10011"}}),e._v(" "),l("el-option",{attrs:{label:"奶佬族 ",value:"10013"}})],1)],1)],1),e._v(" "),l("el-form-item",{attrs:{label:"籍贯",prop:"jiguan"}},[l("el-col",{attrs:{span:11}},[l("el-select",{attrs:{placeholder:"籍贯"},model:{value:e.ruleForm.jiguan,callback:function(t){e.ruleForm.jiguan=t},expression:"ruleForm.jiguan"}},[l("el-option",{attrs:{label:"广西 ",value:"20010"}}),e._v(" "),l("el-option",{attrs:{label:"广东 ",value:"20011"}}),e._v(" "),l("el-option",{attrs:{label:"湖南 ",value:"20013"}})],1)],1)],1),e._v(" "),l("el-form-item",{attrs:{label:"政治面貌",prop:"mianmao"}},[l("el-col",{attrs:{span:11}},[l("el-select",{attrs:{placeholder:"政治面貌"},model:{value:e.ruleForm.mianmao,callback:function(t){e.ruleForm.mianmao=t},expression:"ruleForm.mianmao"}},[l("el-option",{attrs:{label:"党员 ",value:"30010"}}),e._v(" "),l("el-option",{attrs:{label:"团员 ",value:"30011"}}),e._v(" "),l("el-option",{attrs:{label:"群众 ",value:"30013"}})],1)],1)],1),e._v(" "),l("el-form-item",{attrs:{label:"二级学院",prop:"xueyuan"}},[l("el-col",{attrs:{span:11}},[l("el-select",{attrs:{placeholder:"二级学院"},model:{value:e.ruleForm.xueyuan,callback:function(t){e.ruleForm.xueyuan=t},expression:"ruleForm.xueyuan"}},[l("el-option",{attrs:{label:"文学院 ",value:"40010"}}),e._v(" "),l("el-option",{attrs:{label:"外国语学院 ",value:"40011"}}),e._v(" "),l("el-option",{attrs:{label:"法学院 ",value:"40013"}})],1)],1)],1),e._v(" "),l("el-form-item",{attrs:{label:"入校时间",required:""}},[l("el-col",{attrs:{span:5}},[l("el-form-item",{attrs:{prop:"ruxiaodate"}},[l("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择入校时间"},model:{value:e.ruleForm.ruxiaodate,callback:function(t){e.ruleForm.ruxiaodate=t},expression:"ruleForm.ruxiaodate"}})],1)],1)],1),e._v(" "),l("el-form-item",{attrs:{label:"出生时间",required:""}},[l("el-col",{attrs:{span:5}},[l("el-form-item",{attrs:{prop:"birthDate"}},[l("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择出生时间"},model:{value:e.ruleForm.birthDate,callback:function(t){e.ruleForm.birthDate=t},expression:"ruleForm.birthDate"}})],1)],1)],1),e._v(" "),l("el-form-item",{attrs:{label:"家庭住址",prop:"address"}},[l("el-col",{attrs:{span:11}},[l("el-input",{model:{value:e.ruleForm.address,callback:function(t){e.ruleForm.address=t},expression:"ruleForm.address"}})],1)],1),e._v(" "),l("el-form-item",{attrs:{label:"是否全日制",prop:"quanrizhi"}},[l("el-switch",{attrs:{"on-text":"","off-text":""},model:{value:e.ruleForm.quanrizhi,callback:function(t){e.ruleForm.quanrizhi=t},expression:"ruleForm.quanrizhi"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"兴趣爱好",prop:"ins"}},[l("el-checkbox-group",{model:{value:e.ruleForm.ins,callback:function(t){e.ruleForm.ins=t},expression:"ruleForm.ins"}},[l("el-checkbox",{attrs:{label:"checkbox1",name:"ins"}},[e._v("吃饭")]),e._v(" "),l("el-checkbox",{attrs:{label:"checkbox2",name:"ins"}},[e._v("睡觉")]),e._v(" "),l("el-checkbox",{attrs:{label:"checkbox3",name:"ins"}},[e._v("打豆豆")]),e._v(" "),l("el-checkbox",{attrs:{label:"checkbox4",name:"ins"}},[e._v("看电影")])],1)],1),e._v(" "),l("el-form-item",{attrs:{label:"学生备注",prop:"beizhu"}},[l("el-col",{attrs:{span:11}},[l("el-input",{attrs:{type:"textarea"},model:{value:e.ruleForm.beizhu,callback:function(t){e.ruleForm.beizhu=t},expression:"ruleForm.beizhu"}})],1)],1),e._v(" "),l("el-form-item",[l("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("立即修改")]),e._v(" "),l("el-button",{on:{click:function(t){e.resetForm("ruleForm")}}},[e._v("重置")])],1)],1)],1)},staticRenderFns:[]}}});